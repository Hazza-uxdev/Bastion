<Window x:Class="SecureVault.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Bastion"
        Height="600"
        Width="1000"
        FontFamily="Segoe UI"
        Background="#F5F6FA">

    <!-- ================= STYLES ================= -->
    <Window.Resources>
        <!-- Inactive sidebar button -->
        <Style x:Key="SidebarButtonInactive" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#CCCCCC"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,0"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <!-- Active sidebar button -->
        <Style x:Key="SidebarButtonActive"
               TargetType="Button"
               BasedOn="{StaticResource SidebarButtonInactive}">
            <Setter Property="Background" Value="#2D8CFF"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- ================= SIDEBAR ================= -->
        <Border Grid.Column="0" Background="#1E1E2D">
            <StackPanel>

                <TextBlock Text="Bastion"
                           Foreground="White"
                           FontSize="20"
                           FontWeight="Bold"
                           Margin="20,20,20,30"/>

                <Button x:Name="BtnPasswordManager"
                        Content="ðŸ” Password Manager"
                        Height="40"
                        Margin="10"
                        Style="{StaticResource SidebarButtonActive}"
                        Click="PasswordManager_Click"/>

                <Button x:Name="BtnAccounts"
                        Content="ðŸ‘¤ Accounts"
                        Height="40"
                        Margin="10"
                        Style="{StaticResource SidebarButtonInactive}"/>

                <Button x:Name="BtnNotes"
                        Content="ðŸ“ Secure Notes"
                        Height="40"
                        Margin="10"
                        Style="{StaticResource SidebarButtonInactive}"/>

                <Button x:Name="BtnSettings"
                        Content="âš™ Settings"
                        Height="40"
                        Margin="10"
                        Style="{StaticResource SidebarButtonInactive}"
                        Click="Settings_Click"/>

            </StackPanel>
        </Border>

        <!-- ================= MAIN CONTENT ================= -->
        <Grid Grid.Column="1" Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <TextBlock x:Name="HeaderText"
                       Text="Password Manager"
                       FontSize="22"
                       FontWeight="SemiBold"
                       Margin="0,0,0,15"/>

            <!-- Toolbar -->
            <DockPanel x:Name="Toolbar"
                       Grid.Row="1"
                       Margin="0,0,0,10">

                <TextBox x:Name="SearchBox"
                         Width="250"
                         Height="30"
                         Margin="0,0,10,0"
                         VerticalContentAlignment="Center"
                         TextChanged="SearchBox_TextChanged"
                         DockPanel.Dock="Left"/>

                <StackPanel Orientation="Horizontal" DockPanel.Dock="Right">
                    <Button Content="Add" Width="80" Margin="5" Click="Add_Click"/>
                    <Button Content="Edit" Width="80" Margin="5" Click="Edit_Click"/>
                    <Button Content="Delete" Width="80" Margin="5" Click="Delete_Click"/>
                    <Button Content="Copy Password" Width="80" Margin="5" Click="Copy_Click"/>
                </StackPanel>
            </DockPanel>

            <!-- PASSWORD MANAGER VIEW -->
            <Border x:Name="PasswordManagerView"
                    Grid.Row="2"
                    Background="White"
                    CornerRadius="6"
                    Padding="10">

                <ListView x:Name="VaultList">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Title" Width="200" DisplayMemberBinding="{Binding Title}"/>
                            <GridViewColumn Header="Username" Width="200" DisplayMemberBinding="{Binding Username}"/>
                            <GridViewColumn Header="Password" Width="200" DisplayMemberBinding="{Binding Password}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Border>

            <!-- SETTINGS VIEW -->
            <Border x:Name="SettingsView"
                    Grid.Row="2"
                    Background="White"
                    CornerRadius="6"
                    Padding="20"
                    Visibility="Collapsed">

                <StackPanel>
                    <TextBlock Text="Settings"
                               FontSize="20"
                               FontWeight="SemiBold"
                               Margin="0,0,0,20"/>

                    <Button Content="Import passwords from CSV"
                            Width="240"
                            Height="35"
                            Click="ImportCsv_Click"/>
                </StackPanel>
            </Border>

        </Grid>
    </Grid>
</Window>
